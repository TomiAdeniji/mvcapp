function renderSafeDetailDataTable(){$("#safe-transaction-list-table").on("processing.dt",function(n,t,i){$("#processingIndicator").css("display","none");i&&$(".loadingoverlay").length===0?$("#table_show").LoadingOverlay("show"):$("#table_show").LoadingOverlay("hide",!0)}).DataTable({destroy:!0,dom:'<"top"fl<"clear">>rt<"bottomtable"ip<"clear">>',language:{infoFiltered:""},serverSide:!0,info:!1,stateSave:!1,bLengthChange:!0,paging:!0,searching:!1,responsive:!0,scrollX:!1,autoWidth:!0,lengthMenu:[[10,20,50,100],[10,20,50,100]],pageLength:10,createdRow:function(n,t){t.isCheckpoint?$(n).removeClass().addClass("checkpoint even"):t.isTransfer&&$(n).removeClass().addClass("safeaccount even")},ajax:{url:"/CashManagement/GetDataTableSafePayment",type:"GET",dataType:"json",data:function(n){return $.extend({},n,{keyword:$("#search_dt").val(),datetime:$("#safe-transaction-input-datetimerange").val(),safeId:$("#safe-id").val()?$("#safe-id").val():0,isApproved:!1})}},columns:[{name:"TransactionDateString",data:"TransactionDateString",orderable:!1},{name:"TillName",data:"TillName",orderable:!0},{name:"DirectionName",data:"DirectionName",orderable:!0},{name:"Amount",data:"Amount",orderable:!0},{name:"Balance",data:"Balance",orderable:!0},{name:"Difference",data:"Difference",orderable:!0},{name:"Status",data:"Status",orderable:!1,render:function(n,t,i){return'<span class="label label-lg '+i.LabelStatus+'">'+i.Status+"<\/span>"}},{name:null,data:null,orderable:!1,width:"100px",render:function(n,t,i){var r="";return i.isPosPayment?r+="":i.isCheckpoint?r+="<td><button onclick=\"window.location.href='/CashManagement/DiscussionForSafeTransactions?cashAccountTransactionId=0&&tillPaymentId=0&&checkpointId="+i.Id+'\'" class="btn btn-primary"><i class="fa fa-comments"><\/i> &nbsp; Discuss<\/button><\/td>':i.isTillPayment&&(r+="<td><button onclick=\"window.location.href='/CashManagement/DiscussionForSafeTransactions?cashAccountTransactionId=0&&checkpointId=0&&tillPaymentId="+i.Id+'\'" class="btn btn-primary"><i class="fa fa-comments"><\/i> &nbsp; Discuss<\/button><\/td>'),r}}],order:[[2,"desc"]]})}$(function(){$("#search_dt").keyup(delay(function(){callBackDataTableReload("safe-transaction-list-table")},2e3));$("#safe-transaction-input-datetimerange").daterangepicker({autoUpdateInput:!0,timePicker:!0,cancelClass:"btn-danger",opens:"right",startDate:new Date($("#fromDateTime").val()),endDate:new Date($("#toDateTime").val()),locale:{cancelLabel:"Clear",format:$dateTimeFormatByUser}});$("#safe-transaction-input-datetimerange").on("apply.daterangepicker",function(n,t){$(this).val(t.startDate.format($dateTimeFormatByUser)+" - "+t.endDate.format($dateTimeFormatByUser));$("#safe-transaction-input-datetimerange").html(t.startDate.format($dateTimeFormatByUser)+" - "+t.endDate.format($dateTimeFormatByUser));filter.DateRange=$("#safe-transaction-input-datetimerange").val();callBackDataTableReload("safe-transaction-list-table")});$("#safe-transaction-input-datetimerange").on("cancel.daterangepicker",function(){$(this).val(null);filter.DateRange=$("#safe-transaction-input-datetimerange").val();$("#safe-transaction-input-datetimerange").html("full history");callBackDataTableReload("safe-transaction-list-table")});renderSafeDetailDataTable();$("#safe-transaction-list-table").addClass("datatable")});