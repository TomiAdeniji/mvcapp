function Search(){if($("#queue-search").val().length>3||$("#queue-search").val().length===0){var n="/PDS/SearchQueue?name="+$("#queue-search").val()+"&type="+$("#filter-queue").val();AjaxElementLoad(n,"queue-list")}}function SavePrepQueue(){var n,i,t,r;if($("#prep-queue-form").valid()){if($.LoadingOverlay("show"),n=$("#prep-queue-id").val(),i=$("#prep-queue-select").val(),$queueType=parseInt($("#queue-type").val()),t="/DDS/CreateDdsQueue",$queueType===2){if(i===null||i===0){$("#prep-queue-form").validate().showErrors({prepqueueselect:"This field is required."});LoadingOverlayEnd();return}n>0&&(t="/DDS/UpdateDdsQueue")}else t="/PDS/CreatePrepQueue",n>0&&(t="/PDS/UpdatePrepQueue");r={Id:n,Name:$("#prep-queue-name").val(),PrepQueue:{id:i}};$.ajax({url:t,type:"post",dataType:"json",data:{queue:r},success:function(t){t.actionVal===1?(n>0?($queueType===1?$("#prep-queue-name-main-"+n).text(r.Name):($("#dds-queue-name-main-"+n).text(r.Name),$("#dds-queue-main-"+n).text($("#prep-queue-select option:selected").text())),cleanBookNotification.updateSuccess()):($("#queue-list").append(t.msg),cleanBookNotification.createSuccess()),$("#app-trader-ods-queue-add-edit").modal("hide")):$("#prep-queue-form").validate().showErrors({queuename:t.msg})},error:function(n){cleanBookNotification.error(n,"Qbicles")}}).always(function(){LoadingOverlayEnd()})}}function ConfirmDeletePrepQueue(n,t){$prepQueueIdDelete=n;$queueType=$queueType=parseInt(t);var i="dds";$queueType===1&&(i="prep");$("#name-delete").text($("#"+i+"-queue-name-main-"+$prepQueueIdDelete).text());$("#confirm-delete").modal("show")}function CancelDelete(){$("#confirm-delete").modal("hide")}function DeletePrepQueue(){$.LoadingOverlay("show");var n="/PDS/DeletePrepQueue";$queueType===2&&(n="/DDS/DeleteDdsQueue");$.ajax({type:"delete",url:n,data:{id:$prepQueueIdDelete},dataType:"json",success:function(n){n.result?($queueType===2?$("#dds-queue-item-"+$prepQueueIdDelete).remove():$("#prep-queue-item-"+$prepQueueIdDelete).remove(),$("#confirm-delete").modal("hide"),cleanBookNotification.removeSuccess()):cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}}).always(function(){LoadingOverlayEnd()})}var $prepQueueIdDelete=0,$queueType=0;QueueAddEdit=function(n,t){var i="/PDS/AddEditPrepQueue?id="+n+"&type="+t;AjaxElementShowModal(i,"app-trader-ods-queue-add-edit")};