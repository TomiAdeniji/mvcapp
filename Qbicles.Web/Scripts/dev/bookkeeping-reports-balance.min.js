function reportLoad(){var t=$("#report-start_date").val(),n,r,i;t&&(n=$("#report-content"),n.LoadingOverlay("show"),r=$("#report-dimensions").val(),i={start_date:t,incomeReportEntry:JSON.parse($("#report-treevalue").val()),allNodeIds:JSON.parse($("#report-lstANodes").val())},$.ajax({type:"POST",url:"/Bookkeeping/FilterReportBalance",dataType:"html",data:i,success:function(t){t&&n.html(t);n.LoadingOverlay("hide",!0)}}))}function exportPDF(){$.LoadingOverlay("show");var n="";window.html2canvas(document.getElementById("balance-report-capture"),{allowTaint:!0,svgRendering:!0,onrendered:function(t){n=t.toDataURL("image/png").replace("image/png","image/octet-stream");var i="balance-report.pdf";$.ajax({type:"post",url:"/Bookkeeping/DownloadReport",datatype:"json",data:{data:n},success:function(n){LoadingOverlayEnd();var t=document.createElement("a");t.download=i;t.href="data:application/pdf;base64,"+n;document.body.appendChild(t);t.click();document.body.removeChild(t);delete t},error:function(n){LoadingOverlayEnd();cleanBookNotification.error(n.responseText,"Qbicles")}})}});LoadingOverlayEnd()}function printPDF(){$.LoadingOverlay("show");var n=document.getElementById("balance-report-capture");html2canvas(n,{allowTaint:!0,background:"transparent",onrendered:function(n){var i=n.toDataURL("image/jpeg"),t=window.open("");$(t.document.body).html('<style type="text/css" media="print">@page{size: auto;margin: 0mm;}<\/style ><img src='+i+" style='width:100%;'><\/img>").ready(function(){t.focus();setTimeout(function(){t.print()},500)})}});LoadingOverlayEnd()}$(document).ready(function(){var n=$("#report-start_date"),t;n.change(function(){var t=n.data("daterangepicker");$(".reporting_period").text("As on "+t.startDate.format("MMMM Do, YYYY"));reportLoad()});$("#report-dimensions").change(function(){reportLoad()});t=n.attr("fm");$(".reporting_period").text("As on "+moment(n.val(),t.toUpperCase()).format("MMMM Do, YYYY"))});