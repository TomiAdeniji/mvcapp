function getValueTree(){var t=$("#jstree-icreportentry").jstree(),i=t.get_json(),n=[];return getChildItemTree(n,i),n}function getValueTreeBlance(){var r=$("#jstree-blreportentry").jstree(),t=r.get_json(),i=[],n;return getChildItemBalance(i,t),n=[],getAllIdsChild(n,t),$("#lstANodes").val(JSON.stringify(n)),i}function getChildItemBalance(n,t){$.each(t,function(t,i){var r={id:i.id.replace("ic-",""),text:$(i.text).filter("h5").text(),isExpanded:i.state.opened,amount:0,children:[],allChildIds:[]};r.allChildIds.push(r.id);i.children&&i.children.length>0&&(getChildItemBalance(r.children,i.children),getAllIdsChild(r.allChildIds,i.children));n.push(r)})}function getChildItemTree(n,t){$.each(t,function(t,i){var r={id:i.id.replace("ic-",""),text:$(i.text).filter("h5").text(),isExpanded:i.state.opened,children:[]};r.children.push(r.id);i.children&&i.children.length>0&&(getChildItemTree(n,i.children),getAllIdsChild(r.children,i.children));n.push(r)})}function getAllIdsChild(n,t){$.each(t,function(t,i){n.push(i.id.replace("ic-",""));i.children&&i.children.length>0&&getAllIdsChild(n,i.children)})}var $frm_execute=$("#frm-execute-report"),$frm_execute_balance=$("#frm-execute-report-balance");$(document).ready(function(){$frm_execute.validate({ignore:""});$frm_execute.submit(function(n){if(!$frm_execute.valid()){$("#navtab-income a[href=#incomerep1]").click();n.preventDefault();return}$("#treevalue").val(JSON.stringify(getValueTree()))});$frm_execute_balance.validate({ignore:""});$frm_execute_balance.submit(function(n){if(!$frm_execute_balance.valid()){$("#navtab-balance a[href=#balancerep1]").click();n.preventDefault();return}$("#treevaluebalance").val(JSON.stringify(getValueTreeBlance()))})});