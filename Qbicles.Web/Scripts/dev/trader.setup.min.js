function ValidateFormLocation(){var n=!1;return $("#tradersetup_addlocation_name").val()===""&&(n=!0,$("#tradersetup_addlocation_form").validate().showErrors({location:"Location name is required."})),n}function showprocessLocation(n){$("#show-locations .btn_process").attr("disabled",!n);n?($("#show-locations .btn_process").removeClass("disabled"),$locationCompleted="True"):($("#show-locations .btn_process").addClass("disabled"),UpdateSelectedStep("location"),$locationCompleted="False")}function onclickAddLocation(){ModalToggle("app-trader-location-add","/TraderConfiguration/LocationAddEdit")}function editLocation(n){ModalToggle("app-trader-location-add","/TraderConfiguration/LocationAddEdit?id="+n)}function saveLocation(){var n,t,i,r;if($("#location-edit-name").val()=="")return $("#location_form").validate().showErrors({Name:"This field is required."}),!1;if(n=parseFloat($("#Longitude").val()),$("#Longitude").val()!=""&&(n<-180||n>180))return $("#location_form").validate().showErrors({Longitude:"Longitude value as a decimal value between -180 and 180"}),!1;if(t=parseFloat($("#Latitude").val()),$("#Latitude").val()!=""&&(t<-90||t>90))return $("#location_form").validate().showErrors({Latitude:"Latitude value as a decimal value between -90 and 90"}),!1;i=$("#CountryName").val();r={Id:$("#location-id").val(),Name:$("#location-edit-name").val(),Address:{Id:$("#location-address-id").val(),AddressLine1:$("#AddressLine1").val(),AddressLine2:$("#AddressLine2").val(),City:$("#City").val(),State:$("#State").val(),PostCode:$("#PostCode").val(),Email:$("#Email").val(),Phone:$("#Phone").val(),Longitude:n.toFixed(7),Latitude:t.toFixed(7)}};$.ajax({type:"post",url:"/TraderConfiguration/Savelocation?country="+i,data:{location:r},dataType:"json",success:function(n){n.actionVal===1?(showprocessLocation(!0),ReloadTable("show-locations .table_location","app-trader-location-add","/Trader/AddTraderTableLocation",n.actionVal)):n.actionVal===2?(showprocessLocation(!0),ReloadTable("show-locations .table_location","app-trader-location-add","/Trader/AddTraderTableLocation",n.actionVal)):n.actionVal===3&&(showprocessLocation(!1),$("#tradersetup_addlocation_form").validate().showErrors({Name:n.msg}))},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}}).always(function(){})}function deleteLocation(n){$.ajax({type:"delete",url:"/TraderSetup/DeleteLocation?id="+n,datatype:"json",success:function(n){n.actionVal===1?ReloadTable("show-locations .table_location","app-trader-location-add","/Trader/AddTraderTableLocation",4):cleanBookNotification.error(_L("ERROR_MSG_290"),"Qbicles");showprocessLocation(n.result)},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}function CancelLocation(){$("#app-trader-location-add").modal("toggle")}function ValidateFormProductGroup(){var n=!1;return $("#trader_group_add_name").val()===""&&(n=!0,$("#trader_add_group_form").validate().showErrors({title:"Group name is required."})),n}function ValidateFormContactGroup(){var n=!1;return $("#trader_contact_group_add_name").val()===""&&(n=!0,$("#trader_add_contact_group_form").validate().showErrors({title:"Group name is required."})),n}function onclickAddProductGroup(){ModalToggle("app-trader-product-group-add","/Trader/AddTraderProductGroup?id=0")}function onclickAddContactGroup(){ModalToggle("app-trader-contact-group-add","/Trader/AddTraderContactGroup?id=0")}function editProductGroup(n){ModalToggle("app-trader-product-group-add","/Trader/AddTraderProductGroup?id="+n)}function editContactGroup(n){ModalToggle("app-trader-contact-group-add","/Trader/AddTraderContactGroup?id="+n)}function showprocessGroup(n){$("#show-product-groups .btn_process").attr("disabled",!n);n?($("#show-product-groups .btn_process").removeClass("disabled"),$productGroupCompleted="True"):($("#show-product-groups .btn_process").addClass("disabled"),UpdateSelectedStep("group"),$productGroupCompleted="False")}function SaveProductGroup(){if(!ValidateFormProductGroup()){var n={Id:$("#trader_group_add_id").val(),Name:$("#trader_group_add_name").val()};$.ajax({type:"post",url:"/TraderSetup/SaveGroup",data:{group:n},datatype:"json",success:function(n){n.actionVal===3&&cleanBookNotification.error(_L("ERROR_MSG_380",[n.msg]),"Qbicles");n.actionVal!==3&&ReloadTable("show-product-groups .table_group","app-trader-product-group-add","/Trader/AddTraderTableProductGroup",n.actionVal);showprocessGroup(n.result)},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}}function showprocessContactGroup(n){$("#show-contact-groups .btn_process").attr("disabled",!n);n?($("#show-contact-groups .btn_process").removeClass("disabled"),$contactGroupCompleted="True"):($("#show-contact-groups .btn_process").addClass("disabled"),UpdateSelectedStep("contact"),$contactGroupCompleted="False")}function SaveContactGroup(n){if(!ValidateFormContactGroup()){var t={Id:$("#trader_contact_group_add_id").val(),Name:$("#trader_contact_group_add_name").val(),saleChannelGroup:n};$.ajax({type:"post",url:"/TraderSetup/SaveContactGroup",data:{group:t},datatype:"json",success:function(n){n.actionVal===3&&cleanBookNotification.error(_L("ERROR_MSG_380",[n.msg]),"Qbicles");n.actionVal!==3&&ReloadTable("show-contact-groups .table_group","app-trader-contact-group-add","/Trader/AddTraderTableContactGroup",n.actionVal);showprocessContactGroup(n.result)},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}}function deleteGroup(n){$.ajax({type:"delete",url:"/TraderSetup/DeleteGroup?id="+n,datatype:"json",success:function(n){n.actionVal===1?ReloadTable("show-product-groups .table_group","app-trader-product-group-add","/Trader/AddTraderTableProductGroup",4):cleanBookNotification.error(_L("ERROR_MSG_292"),"Qbicles");showprocessGroup(n.result)},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}function deleteContactGroup(n){$.ajax({type:"delete",url:"/TraderSetup/DeleteContactGroup?id="+n,datatype:"json",success:function(n){n.actionVal===1?ReloadTable("show-contact-groups .table_group","app-trader-contact-group-add","/Trader/AddTraderTableContactGroup",4):cleanBookNotification.error(_L("ERROR_MSG_292"),"Qbicles");showprocessContactGroup(n.result)},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}function CancelProductGroup(){$("#app-trader-product-group-add").modal("toggle")}function onclickAddWorkGroup(){ModalToggle("app-trader-group-add","/Trader/AddTraderWorkGroup?id=0")}function editWorkGroup(n){ModalToggle("app-trader-group-add","/Trader/AddTraderWorkGroup?id="+n)}function showprocessWorkGroup(n){$("#show-workgroups .btn_process").attr("disabled",!n);n?($("#show-workgroups .btn_process").removeClass("disabled"),$workGroupCompleted="True"):($("#show-workgroups .btn_process").addClass("disabled"),UpdateSelectedStep("wg"),$workGroupCompleted="False")}function SaveWorkGroup(){if(ValidateWorkgroupForm("add")!==!1){var n=CreateWorkgroupData(0);$.ajax({type:"post",url:"/TraderWorkGroups/Create",datatype:"json",data:{wg:n},success:function(n){n.result?ReloadTable("show-workgroups .table_workgroup","app-trader-group-add","/Trader/AddTraderTableWorkGroup",1):cleanBookNotification.error(_L("ERROR_MSG_380",[n.msg]),"Qbicles");showprocessWorkGroup(n.actionVal===1?!0:!1)},error:function(n){cleanBookNotification.error(n.responseText,"Qbicles")}})}}function CreateWorkgroupData(n){var t="add",f,r,i;n>0&&(t="edit");var e={Id:$("#wg-location-"+t).val()},o={Id:$("#wg-qbicle-"+t).val()},s={Id:$("#wg-topic-"+t).val()},u=[];return $("#wg-group-"+t).val().length>0&&(f=$("#wg-group-"+t).val().toString().split(","),$.each(f,function(n,t){var i={Id:t};u.push(i)})),r=[],i=$("#wg-process-"+t).val(),i!==null&&i.length>0&&(i=i.toString().split(","),$.each(i,function(n,t){var i={Id:t};r.push(i)})),{Id:n,Name:$("#wg-name-"+t).val(),Processes:r,Location:e,Qbicle:o,Topic:s,ItemCategories:u,Members:$_members,Reviewers:$_reviewers,Approvers:$_approvers}}function ClearForm(n){var t,i;$_members=[];$_approvers=[];$_reviewers=[];$wgId=0;ReInitUsersEdit(0);ResetFormControl(n);t=$(".btnNextAdd").closest(".modal");$(t).find(".app_subnav .active")[0].id==="li-roles-add"&&$(t).find(".app_subnav .active").prev("li").find("a").trigger("click");i=$("#wg-table-members-add").DataTable();i.clear();i.destroy();$("#wg-group-add").val("").trigger("change")}function ReInitUsersEdit(n){var t=$("#user-list").DataTable();t.clear();t.destroy();$.ajax({type:"post",url:"/TraderWorkGroups/ReInitUsersEdit",datatype:"json",data:{id:n},success:function(n){n?($("table#user-list > tbody").prepend(n),$(".check-right").bootstrapToggle(),$("#user-list").DataTable({responsive:!0,lengthChange:!0,pageLength:10,columnDefs:[{targets:3,orderable:!1}],order:[]}),$("#user-list").show()):cleanBookNotification.error(_L("ERROR_MSG_380",[n.msg]),"Qbicles")},error:function(n){cleanBookNotification.error(n.responseText,"Qbicles")}})}function AddUsersToMembers(n,t,i,r){var f={Id:t,Name:i,Pic:r},u;if(n===!0)$_members.push(f);else for(u=$_members.length;u--;)$_members[u].Id===f.Id&&$_members.splice(u,1)}function AddMemberToWorkgroup(){var n,t;$_members.length>0&&(n="add",$wgId>0&&(n="edit"),t=$("#wg-table-members-"+n).DataTable(),t.clear(),t.destroy(),$.each($_members,function(t,i){$("table#wg-table-members-"+n+" > tbody").prepend(CreateRowTable(i))}),$(".check-right").bootstrapToggle(),$("#wg-table-members-"+n).DataTable({responsive:!0,lengthChange:!0,pageLength:10,columnDefs:[{targets:3,orderable:!1}],order:[]}),$("#wg-table-members-"+n).show())}function CreateRowTable(n){var i="add",f,t;$wgId>0&&(i="edit");var r="",u="",e=$_approvers.filter(t=>t.Id===n.Id);return e.length>0&&(r="checked"),f=$_reviewers.filter(t=>t.Id===n.Id),f.length>0&&(u="checked"),t='<tr id="tr_'+i+"_user_"+n.Id+'">',t+='<td><div class="table-avatar mini" style="background-image: url(\''+n.Pic+"');\">&nbsp;<\/div><\/td>",t+="<td>"+n.Name+'<span id="span-approval-add-'+n.Id+"\" class='hidden'><\/span><span id=\"span-review-add-"+n.Id+"\" class='hidden'><\/span><\/td>",t+="<td><input "+r+" onchange=\"AddUsersApprovers(this.checked,'"+n.Id+'\',\'span-approval-add-\')" class="check-right" data-toggle="toggle" data-onstyle="success" data-on="<i class=\'fa fa-check\'><\/i>" data-off=" " type="checkbox"><\/td>',t+="<td><input "+u+" onchange=\"AddUsersToReviewers(this.checked,'"+n.Id+'\',\'span-review-add-\')" class="check-right" data-toggle="toggle" data-onstyle="success" data-on="<i class=\'fa fa-check\'><\/i>" data-off=" " type="checkbox"><\/td>',t+="<td><button class='btn btn-danger' onclick=\"RemoveRowTableMemberAdd('"+n.Id+"')\"><i class='fa fa-trash'><\/i><\/button><\/td>",t+"<\/tr>"}function AddUsersToReviewers(n,t,i){var u={Id:t},r;if(n===!0)$_reviewers.push(u),$("#"+i+t).text("Reviewers");else for(r=$_reviewers.length;r--;)$_reviewers[r].Id===u.Id&&($_reviewers.splice(r,1),$("#"+i+t).text(""))}function AddUsersApprovers(n,t,i){var u={Id:t},r;if(n===!0)$_approvers.push(u),$("#"+i+t).text("Approvers");else for(r=$_approvers.length;r--;)$_approvers[r].Id===u.Id&&($_approvers.splice(r,1),$("#"+i+t).text(""))}function RemoveRowTableMemberAdd(n){var t="add",f,i,r,u;for($wgId>0&&(t="edit"),f=$("#wg-table-members-"+t).DataTable(),f.destroy(),$("#wg-table-members-"+t+" tbody tr#tr_"+t+"_user_"+n).remove(),$("#wg-table-members-"+t).DataTable().draw(),i=$_approvers.length;i--;)$_approvers[i].Id===n&&$_approvers.splice(i,1);for(r=$_reviewers.length;r--;)$_reviewers[r].Id===n&&$_reviewers.splice(r,1);for(u=$_members.length;u--;)$_members[u].Id===n&&$_members.splice(u,1)}function Edit(n){$("#workgroup-content-edit").empty();$_members=[];$_approvers=[];$_reviewers=[];PreviousEdit();$wgId=n;$.LoadingOverlay("show");$.ajax({type:"post",url:"/TraderWorkGroups/GetWorkGroupUser",datatype:"json",data:{id:n},success:function(t){$_members=t.Members;$_approvers=t.Approvers;$_reviewers=t.Reviewers;ReInitUsersEdit(n);$("#workgroup-content-edit").load("/TraderWorkGroups/Edit?id="+n);$.LoadingOverlay("hide")},error:function(n){cleanBookNotification.error(n.responseText,"Qbicles")}})}function NextEdit(){var n={Id:$wgId,Name:$("#wg-name-edit").val()};$("#form-wg-edit").valid()&&$.ajax({url:"/TraderWorkGroups/ValidateName",data:{wg:n},type:"POST",dataType:"json"}).done(function(n){if(n.result)$("#form-wg-edit").validate().showErrors({wgNameEdit:"Name of Workgroup already exists."});else{var t=$(".btnNextEdit").closest(".modal");$(t).find(".app_subnav .active").next("li").find("a").trigger("click");$("#step_1").removeClass("active").addClass("disabled disabledTab");$("#edit-specifics").removeClass("in active").addClass("disabled disabledTab");$("#step_2").removeClass("disabled disabledTab").addClass("active");$("#edit-members").removeClass("disabled disabledTab").addClass("in active");$("#step2-vtab").css({color:"#337ab7"});$("#step1-vtab").removeAttr("style")}}).fail(function(n){$("#form-wg-edit").validate().showErrors({wgNameEdit:"Error"+n})})}function PreviousEdit(){$("#step_2").removeClass("active").addClass("disabled disabledTab");$("#edit-members").removeClass("in active").addClass("disabled disabledTab");$("#step_1").removeClass("disabled disabledTab").addClass("active");$("#edit-specifics").removeClass("disabled disabledTab").addClass("in active");$("#step1-vtab").css({color:"#337ab7"});$("#step2-vtab").removeAttr("style")}function UpdateWorkgroup(){if(ValidateWorkgroupForm("edit")!==!1){var n=CreateWorkgroupData($wgId);if(n.Processes.length===0){cleanBookNotification.error("Process is required!","Qbicles");return}$.ajax({type:"post",url:"/TraderWorkGroups/Update",datatype:"json",data:{wg:n},success:function(n){n.result?ReloadTable("show-workgroups .table_workgroup","app-trader-group-edit","/Trader/AddTraderTableWorkGroup",2):cleanBookNotification.error(_L("ERROR_MSG_380",[n.msg]),"Qbicles")},error:function(n){cleanBookNotification.error(n.responseText,"Qbicles")}})}}function Delete(n,t){$.ajax({type:"delete",url:"/TraderSetup/DeleteWorkgroup",datatype:"json",data:{id:t},success:function(n){n.result?ReloadTable("show-workgroups .table_workgroup","app-trader-group-edit","/Trader/AddTraderTableWorkGroup",4):cleanBookNotification.error(_L("ERROR_MSG_293"),"Qbicles");showprocessWorkGroup(n.result)},error:function(n){cleanBookNotification.error(n.responseText,"Qbicles")}})}function ValidateFormTaxrate(){var n=!1;return $("#form_taxrate_add_name").val()===""&&(n=!0,$("#trader_form_taxrate_add").validate().showErrors({Name:"TaxRate name is required."})),n}function showprocessSetting(n){$("#show-accounting .btn_process").attr("disabled",!n);n?($("#show-accounting .btn_process").removeClass("disabled"),$accountingCompleted="True"):($("#show-accounting .btn_process").addClass("disabled"),UpdateSelectedStep("accounting"),$accountingCompleted="False")}function onclickAddTaxRate(){ModalToggle("app-trader-tax-add","/Trader/AddTraderTaxRate?id=0")}function editTaxRate(n){ModalToggle("app-trader-tax-add","/Trader/AddTraderTaxRate?id="+n)}function deleteTaxRate(n){$.LoadingOverlay("show");$.ajax({type:"delete",url:"/TraderSetup/DeleteTaxRate?id="+n,datatype:"json",success:function(n){ReloadTable("show-accounting .table_group","app-trader-tax-add","/Trader/AddTraderTableTaxRate",4);$.LoadingOverlay("hide");showprocessSetting(n.result)},error:function(){$.LoadingOverlay("hide");cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}function UpdateJournalGroupDefault(n){var t={journalGroupId:$("#journal-group-default").val(),traderSettingId:n};$.ajax({type:"post",url:"/TraderConfiguration/UpdateJournalGroupDefault",datatype:"json","async":!1,data:t,success:function(n){n.result?($.LoadingOverlay("hide"),$("#show-accounting .btn_process").removeClass("disabled"),cleanBookNotification.updateSuccess(),showprocessSetting(n.result)):cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")},error:function(n){cleanBookNotification.error(n.responseText,"Qbicles")}})}function SaveTaxRate(){if(!ValidateFormTaxrate()){var n={Id:$("#trader_form_taxrate_add_id").val(),Name:$("#form_taxrate_add_name").val(),Rate:$("#trader_form_taxrate_add_Rate").val(),Description:$("#trader_form_taxrate_add_description").val()};$.ajax({type:"post",url:"/TraderSetup/SaveTaxRate",data:{taxrate:n},datatype:"json",success:function(n){n.actionVal===1?$("#bookkeeping-connected table_trader_taxrate").removeClass("hidden"):n.actionVal===2?$("#bookkeeping-connected table_trader_taxrate").removeClass("hidden"):cleanBookNotification.error(_L("ERROR_MSG_380",[n.msg]),"Qbicles");n.actionVal!==3&&($("#app-trader-tax-add").modal("toggle"),SelectAccounting("accounting"));showprocessSetting(n.result)},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}}function CancelTaxrate(){$("#app-trader-tax-add").modal("toggle")}function ModalToggle(n,t){$("#"+n).empty();$.LoadingOverlay("show");$("#"+n).load(t,function(){$("#"+n).modal("toggle");$.LoadingOverlay("hide")})}function ReloadTable(n,t,i,r){$.LoadingOverlay("show");$("#"+n).empty();$("#"+n).removeClass("hidden");$("#"+n).load(i,function(){r<=2&&$("#"+t).modal("toggle");r===1?cleanBookNotification.createSuccess():r===2?cleanBookNotification.updateSuccess():cleanBookNotification.removeSuccess();$.LoadingOverlay("hide")})}function SelectLocation(n){SelectedStep(n,"Location","/TraderSetup/ShowLocation")}function SelectGroup(n){SelectedStep(n,"ProductGroup","/TraderSetup/ShowProductGroup")}function SelectContact(n){SelectedStep(n,"Contact","/TraderSetup/ShowContactGroup")}function SelectWorkGroup(n){SelectedStep(n,"Workgroup","/TraderSetup/ShowWorkGroup")}function SelectAccounting(n){SelectedStep(n,"Accounting","/TraderSetup/ShowAccounting")}function SelectComplete(n){SelectedStep(n,"Complete","/TraderSetup/ShowComplete")}function UpdateTraderIsSettingComplete(n,t){t==="TraderApp"&&(n="TraderApp");$.ajax({type:"post",url:"/TraderSetup/UpdateTraderIsSettingComplete",data:{isComplete:n},datatype:"json",success:function(n){t==="TraderApp"?n===!0?window.location.href="/Trader/AppTrader":cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles"):UpdateSelectedStep(t)},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}function UpdateTraderSettingCompleted(n){$.ajax({type:"post",url:"/TraderSetup/UpdateTraderIsSettingComplete",data:{isComplete:n},datatype:"json",success:function(n){n===!0?window.location.href="/Trader/AppTrader":cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")},error:function(){cleanBookNotification.error(_L("ERROR_MSG_EXCEPTION_SYSTEM"),"Qbicles")}})}function LocationProcess(){switch_trader_setup("#show-locations","#show-product-groups");ShowStep("ProductGroup","show_content","/TraderSetup/ShowProductGroup")}function GroupProcess(){switch_trader_setup("#show-product-groups","#show-contact-groups");ShowStep("Contact","show_content","/TraderSetup/ShowContactGroup")}function ContactGroupProcess(){switch_trader_setup("#show-contact-groups","#show-workgroups");ShowStep("Workgroup","show_content","/TraderSetup/ShowWorkGroup")}function WorkGroupProcess(){switch_trader_setup("#show-workgroups","#show-accounting");ShowStep("Accounting","show_content","/TraderSetup/ShowAccounting")}function AccountProcess(){switch_trader_setup("#show-accounting","#show-success");ShowStep("Complete","show_content","/TraderSetup/ShowComplete")}function ShowStep(n,t,i){$.LoadingOverlay("show");UpdateTraderIsSettingComplete(n,"setup");$("#"+t).empty();$("#"+t).load(i,function(){$.LoadingOverlay("hide")})}function switch_trader_setup(n,t){$(n).hide();$(t).fadeIn();$(".wizard-steps li").each(function(){$("a",this).data("form")===n&&$(this).removeClass("active").addClass("complete");$("a",this).data("form")===t&&$(this).addClass("active").removeClass("complete").addClass("incomplete")})}function UpdateSelectedStep(n){$(".tradersetup_"+n).removeClass("complete").addClass("incomplete")}function SelectedStep(n,t,i){$("ul.tradersetup_ul li").removeClass("active");$(".tradersetup_"+n).addClass("active");UpdateTraderIsSettingComplete(t,n);$.LoadingOverlay("show");n!=="location"&&($locationCompleted==="True"||$isBookkeeping?$(".tradersetup_location").removeClass("incomplete").addClass("complete"):$(".tradersetup_location").removeClass("complete").addClass("incomplete"));n!=="group"&&($productGroupCompleted==="True"?$(".tradersetup_group").removeClass("incomplete").addClass("complete"):$(".tradersetup_group").removeClass("complete").addClass("incomplete"));n!=="contact"&&($contactGroupCompleted==="True"?$(".tradersetup_contact").removeClass("incomplete").addClass("complete"):$(".tradersetup_contact").removeClass("complete").addClass("incomplete"));n!=="wg"&&($workGroupCompleted==="True"?$(".tradersetup_wg").removeClass("incomplete").addClass("complete"):$(".tradersetup_wg").removeClass("complete").addClass("incomplete"));n!=="accounting"&&($accountingCompleted==="True"?$(".tradersetup_accounting").removeClass("incomplete").addClass("complete"):$(".tradersetup_accounting").removeClass("complete").addClass("incomplete"));$("#show_content").empty();$("#show_content").load(i)}var $locationCompleted=$("#locationCompleted").val(),$productGroupCompleted=$("#productGroupCompleted").val(),$contactGroupCompleted=$("#contactGroupCompleted").val(),$workGroupCompleted=$("#workGroupCompleted").val(),$accountingCompleted=$("#accountingCompleted").val(),$isBookkeeping=$("#isBookkeeping").val(),$_members=[],$_reviewers=[],$_approvers=[],$wgId=0;ValidateWorkgroupForm=function(n){var t=!0,i;return($("#wg-group-"+n).val()==null||$("#wg-group-"+n).val().length<=0)&&(t=!1,n==="add"?$("#form-wg-"+n).validate().showErrors({wgProductsNameAdd:"This field is required."}):$("#form-wg-"+n).validate().showErrors({wgProductsNameEdit:"This field is required."})),$("#wg-name-"+n).val()===""&&(n==="add"?$("#form-wg-"+n).validate().showErrors({wgNameAdd:"This field is required."}):$("#form-wg-"+n).validate().showErrors({wgNameEdit:"This field is required."}),t=!1),i=$("#wg-process-"+n).val(),(i===null||i.length===0)&&(cleanBookNotification.error(_L("ERROR_MSG_653"),"Qbicles"),t=!1),t===!1?(n==="add"?PreviousAdd():PreviousEdit(),t):t};