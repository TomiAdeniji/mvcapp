function SaveJournalTemplate(){$isBusySaveJournalTemplate||$("#journal-template-base").valid()&&setTimeout(function(){ConfirmSaveJournalTemplate()},500)}function ConfirmSaveJournalTemplate(){for(var o,i={Group:{Id:$("#journalEntry_Group").val()},WorkGroup:{Id:$("#bk-worgroup-select").val()},BKTransactions:[]},r=$("#transaction_table tbody tr"),u=new FormData,t=0;t<r.length;t++){var n=r[t],s=n.children,f={Id:$(n.children[0].children[0]).val(),Account:{Id:$(n.children[1].children[0]).val()},PostedDate:$(n.children[2].children[0]).val(),Debit:$(n.children[3].children[0]).val().replace(",",charDot).replace(".",charDot),Credit:$(n.children[4].children[0]).val().replace(",",charDot).replace(".",charDot),TaxRate:{Id:$(n.children[5].children[0]).val()},Memo:$(n.children[6].children[0]).val(),Dimensions:[]},e=$(n.children[7].children[0]).val();e!==null&&e.forEach(function(n){f.Dimensions.push({Id:n})});i.BKTransactions.push(f);u=getFiles(t+1,u)}o={Name:$("#template-name").val(),Description:$("#template-description").val()};$.ajax({type:"post",url:"/BKJournalEntries/SaveJournalEntryTemplate",data:{jEntry:i,template:o},dataType:"json",success:function(n){n.result?($isBusySaveJournalTemplate=!1,$("#journal-template-modal").modal("toggle"),cleanBookNotification.createSuccess()):cleanBookNotification.error(n.msg,"Qbicles")},error:function(){return[]}})}var $journalTempBase=$("#journal-template-base"),$templateId=$("#template-id"),$journalTemplateModal=$("#journal-template-modal"),$isBusySaveJournalTemplate;$(document).ready(function(){});$isBusySaveJournalTemplate=!1;UsejournalTemplate=function(n){$.ajax({type:"get",url:"/Bookkeeping/ListTransactions?templateId="+n,dataType:"html",success:function(n){$("div#table-journal-entry").empty();$("div#table-journal-entry").append(n);$(".singledate").on("cancel.daterangepicker",function(){$(this).val("")});$(".singledateandtime").on("cancel.daterangepicker",function(){$(this).val("")});$(".singledate").daterangepicker({singleDatePicker:!0,showDropdowns:!0,autoUpdateInput:!0,cancelClass:"btn-danger",opens:"left",locale:{cancelLabel:"Clear",format:"DD/MM/YYYY"}});$("tr select").not(".multi-select").select2();sumDebit(null);sumCredit(null)},error:function(){return[]}})};