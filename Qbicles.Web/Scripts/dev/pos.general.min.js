function SettingChanged(){var n=$("#max-contact-result").val();if(n>100||n<0){cleanBookNotification.warning("POS Contact results return between 1 to 100.","Qbicles");$("#max-contact-result").val(100);return}$.LoadingOverlay("show");$("#pos_placeholder_image").val()!==""?UploadMediaS3ClientSide("pos_placeholder_image").then(function(n){$("#pos_placeholder_image_key").val(n.objectKey);ConfirmChanged()}):ConfirmChanged()}function ConfirmChanged(){var n={Id:$("#setting_id").val(),Location:{Id:$locationId},DefaultWorkGroup:{Id:$("#setting_workgroup").val()},DefaultWalkinCustomer:{Id:$("#setting_contact").val()},RolloverTime:$("#rollover-time").val(),MaxContactResult:$("#max-contact-result").val(),MoneyCurrency:$("#pos_monney_currency").val(),MoneyDecimalPlaces:$("#pos_decimal_place").val(),ReceiptHeader:$("#pos_receipt_header").val(),ReceiptFooter:$("#pos_receipt_footer").val(),ProductPlaceholderImage:$("#pos_placeholder_image_key").val(),SourceQbicle:{Id:$("#wg-qbicle").val()},DefaultTopic:{Id:$("#wg-topic").val()},OrderStatusWhenAddedToQueue:$("#pos-order").val()},t=!0;((!n.ReceiptHeader||n.ReceiptHeader&&n.ReceiptHeader==="")&&($("#pos_general_form").validate().showErrors({rhead:"Receipt header is Required."}),t=!1),(!n.ReceiptFooter||n.ReceiptFooter&&n.ReceiptFooter==="")&&($("#pos_general_form").validate().showErrors({rfoot:"Receipt footer is Required."}),t=!1),t)&&$.ajax({type:"post",url:"/PointOfSale/SaveSetting",data:{posSetting:n},dataType:"json",success:function(n){n.actionVal===1?(cleanBookNotification.createSuccess(),$("#setting_id").val(n.msgId)):n.actionVal===2?(cleanBookNotification.updateSuccess(),$("#setting_id").val(n.msgId)):cleanBookNotification.error(n.msg,"Qbicles")},error:function(n){cleanBookNotification.error(n,"Qbicles")}}).always(function(){LoadingOverlayEnd()})}var $settingId=$("#setting_id").val(),$locationId=$("#local-manage-select").val();$(document).ready(function(){function n(n,t){if(n.files&&n.files[0]){var i=new FileReader;i.onload=function(n){$(t).attr("src",n.target.result)};i.readAsDataURL(n.files[0])}}$(".select2Pos").select2({placeholder:"Please select"});$(".checkbox.toggle input").bootstrapToggle();$("#pos_placeholder_image").change(function(){var t=$(this).data("target");n(this,t);$(t).fadeIn()})});