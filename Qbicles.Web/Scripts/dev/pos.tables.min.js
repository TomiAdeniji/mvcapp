function initSaveTableFrm(){$addedittablefrm=$("#addedittableform");$addedittablefrm.validate({rules:{name:{required:!0}}});$addedittablefrm.submit(function(n){if($addedittablefrm.valid()){n.preventDefault();var i=$("#table-name").val(),r=$("#table-summary").val(),t={Id:$("#postableid").val(),Name:i,Summary:r};LoadingOverlay();$.ajax({type:"POST",dataType:"JSON",url:"/PosTable/AddEditPosTable",data:{posTable:t},success:function(n){n.result?($("#app-trader-pos-table-add").modal("hide"),$(".modal-backdrop")[0].remove(),t.Id>0?cleanBookNotification.success("Edited PosTable successfully!","Qbicles"):cleanBookNotification.success("Added PosTable successfully!","Qbicles"),ShowSubPOSSetting("Tables")):cleanBookNotification.error(n.msg,"Qbicles")},error:function(n){cleanBookNotification.error(n.msg,"Qbicles")}}).always(function(){LoadingOverlayEnd()})}})}function showAddEditTable(n){var t="/PosTable/ShowAddEditTableModal?posTableId="+n;$("#app-trader-pos-table-add").empty();$("#app-trader-pos-table-add").load(t);$("#app-trader-pos-table-add").modal("show")}function deletePosTable(n){var t="/PosTable/DeletePosTable?posTableId="+n;LoadingOverlay();$.ajax({type:"POST",dataType:"JSON",url:t,success:function(n){n.result?(cleanBookNotification.success("Delete table successfully!","Qbicles"),ShowSubPOSSetting("Tables")):cleanBookNotification.error(n.msg,"Qbicles")},error:function(n){cleanBookNotification.error(n.msg,"Qbicles")}}).always(function(){LoadingOverlayEnd()})}function initSaveTableLayoutFrm(){var n=$("#table-layout-form");n.validate({rules:{file:{required:!0}}});n.submit(function(t){if(t.preventDefault(),n.valid()){var i=document.getElementById("layoutImageUri").files;if(i&&i.length>0)UploadMediaS3ClientSide("layoutImageUri").then(function(n){if(n.objectKey==="no_image"||n.objectKey==="no-image"){LoadingOverlayEnd("hide");cleanBookNotification.error(_L("ERROR_MSG_S3_UPLOAD"),"Qbicles");return}var t={FileName:n.fileName,FileKey:n.objectKey,FileSize:n.fileSize};SavePosTableLayout(t)});else return}})}function SavePosTableLayout(n){var t=$("#pos-location-id").val();LoadingOverlay();$.ajax({method:"POST",dataType:"JSON",url:"/PosTable/SavePosTableLayout",data:{uploadModel:n,locationId:t},success:function(n){n.result?(cleanBookNotification.updateSuccess(),$(".modal-backdrop")[0].remove(),ShowSubPOSSetting("Tables"),$("#app-trader-pos-diagram-edit").modal("hide")):cleanBookNotification.error(n.msg,"Qbicles")},error:function(n){cleanBookNotification.error(n.msg,"Qbicles");$("#app-trader-pos-diagram-edit").modal("hide")}}).always(function(){LoadingOverlayEnd()})}function DeleteTableLayout(){var n=$("#pos-location-id").val(),t="/PosTable/DeletePosTableLayout?locationId="+n;LoadingOverlay();$.ajax({type:"POST",dataType:"JSON",url:t,success:function(n){n.result?(cleanBookNotification.success("Remove Tables Layout successfully!","Qbicles"),ShowSubPOSSetting("Tables")):cleanBookNotification.error(n.msg,"Qbicles")},error:function(n){cleanBookNotification.error(n.msg,"Qbicles")}}).always(function(){LoadingOverlayEnd()})}