function renderDataTable(){$("#till-transaction-list-table").on("processing.dt",function(n,t,i){i&&$(".loadingoverlay").length===0?$("#till-transaction-list-table").LoadingOverlay("show"):$("#till-transaction-list-table").LoadingOverlay("hide",!0)}).DataTable({destroy:!0,bDestroy:!0,dom:'<"top"fl<"clear">>rt<"bottomtable"ip<"clear">>',language:{infoFiltered:""},serverSide:!0,info:!1,stateSave:!1,bLengthChange:!0,paging:!0,searching:!1,responsive:!0,scrollX:!1,autoWidth:!0,lengthMenu:[[10,20,50,100],[10,20,50,100]],pageLength:10,createdRow:function(n,t){t.isCheckpoint&&$(n).removeClass().addClass("checkpoint even")},ajax:{url:"/CashManagement/GetDataTableTillPayment",type:"POST",dataType:"json",data:function(n){return $.extend({},n,{keyword:$("#search_dt").val(),tillId:$("#till-id").val()?$("#till-id").val():0,isApproved:!1,datetime:$("#till-transaction-input-datetimerange").val(),status:$("#till-filter-status").val()})},dataSrc:function(n){return $("#till-balance-title").text(n.customResponse),n.data}},columns:[{name:"TransactionDateString",data:"TransactionDateString",orderable:!1},{name:"DeviceName",data:"DeviceName",orderable:!0},{name:"TillName",data:"TillName",orderable:!0},{name:"SafeName",data:"SafeName",orderable:!0},{name:"DirectionName",data:"DirectionName",orderable:!0},{name:"Amount",data:"Amount",orderable:!0},{name:"Balance",data:"Balance",orderable:!0},{name:"Difference",data:"Difference",orderable:!0},{name:"Status",data:"Status",orderable:!1,render:function(n,t,i){return'<span class="label label-lg '+i.LabelStatus+'">'+i.Status+"<\/span>"}},{name:null,data:null,orderable:!1,width:"100px",render:function(n,t,i){return""+(i.isPosPayment?"":i.isCheckpoint?"<td><button onclick=\"window.location.href='/CashManagement/DiscussionCashManagement?tillPaymentId=0&&checkpointId="+i.Id+'\'" class="btn btn-primary"><i class="fa fa-comments"><\/i> &nbsp; Discuss<\/button><\/td>':"<td><button onclick=\"window.location.href='/CashManagement/DiscussionCashManagement?checkpointId=0&&tillPaymentId="+i.Id+'\'" class="btn btn-primary"><i class="fa fa-comments"><\/i> &nbsp; Discuss<\/button><\/td>')}}],order:[[2,"desc"]],drawCallback:function(n){console.log(n)}})}$(function(){$("#till-filter-option,#till-filter-status").multiselect({includeSelectAllOption:!0,enableFiltering:!0,buttonWidth:"100%",maxHeight:400,enableClickableOptGroups:!0});$("#till-transaction-input-datetimerange").daterangepicker({autoUpdateInput:!0,timePicker:!0,cancelClass:"btn-danger",opens:"right",startDate:new Date($("#fromDateTime").val()),endDate:new Date($("#toDateTime").val()),locale:{cancelLabel:"Clear",format:$dateTimeFormatByUser}});$("#till-transaction-input-datetimerange").on("apply.daterangepicker",function(n,t){$(this).val(t.startDate.format($dateTimeFormatByUser)+" - "+t.endDate.format($dateTimeFormatByUser));$("#till-transaction-input-datetimerange").html(t.startDate.format($dateTimeFormatByUser)+" - "+t.endDate.format($dateTimeFormatByUser));filter.DateRange=$("#till-transaction-input-datetimerange").val();callBackDataTableReload("till-transaction-list-table")});$("#till-transaction-input-datetimerange").on("cancel.daterangepicker",function(){$(this).val(null);filter.DateRange=$("#till-transaction-input-datetimerange").val();$("#till-transaction-input-datetimerange").html("full history");callBackDataTableReload("till-transaction-list-table")});renderDataTable();$("#till-transaction-list-table").addClass("datatable")});