function ReloadJournalEntries(){$("#tb_journal_entries").DataTable().ajax.reload()}var startDate="",endDate="";$(document).ready(function(){if(jQuery().daterangepicker){$(".daterange-journal").daterangepicker({autoUpdateInput:!1,cancelClass:"btn-danger",opens:"left",locale:{cancelLabel:"Clear",format:$dateFormatByUser.toUpperCase()}});$(".daterange-journal").on("apply.daterangepicker",function(n,t){$(this).val(t.startDate.format($dateFormatByUser.toUpperCase())+" - "+t.endDate.format($dateFormatByUser.toUpperCase()));$("#filter-date").html(t.startDate.format($dateFormatByUser.toUpperCase())+" - "+t.endDate.format($dateFormatByUser.toUpperCase()));startDate=t.startDate.format($dateFormatByUser.toUpperCase());endDate=t.endDate.format($dateFormatByUser.toUpperCase());ReloadJournalEntries()});$(".daterange-journal").on("cancel.daterangepicker",function(){$(this).val("Limit to a date range");$("#filter-date").html("full history");startDate="";endDate="";ReloadJournalEntries()})}ClearFilterJournalEntries();$("#filter-account").change(function(){ReloadJournalEntries()});$("#filter-status").change(function(){ReloadJournalEntries()});$("#filter-group").change(function(){ReloadJournalEntries()})});filterJournalEntries=function(){$("#tb_journal_entries").on("processing.dt",function(n,t,i){$("#processingIndicator").css("display","none");i&&$(".loadingoverlay").length===0?$("#tb_journal_entries").LoadingOverlay("show"):$("#tb_journal_entries").LoadingOverlay("hide",!0)}).DataTable({destroy:!0,dom:'<"top"fl<"clear">>rt<"bottomtable"ip<"clear">>',serverSide:!0,info:!1,stateSave:!1,bLengthChange:!0,paging:!0,searching:!1,responsive:!0,scrollX:!1,autoWidth:!0,deferLoading:30,pageLength:10,lengthMenu:[[10,20,50,100],[10,20,50,100]],ajax:{url:"/Bookkeeping/BKJournalEntriesContent",type:"POST",data:function(n){return $.extend({},n,{accounts:$("#filter-account").val(),status:$("#filter-status").val(),groups:$("#filter-group").val(),dates:startDate+";"+endDate})},dataSrc:function(n){return $("#total-journals").text(n.recordsTotal),n.data}},columns:[{data:"Number",orderable:!0},{data:"Group",orderable:!0},{data:"PostedDate",orderable:!0},{data:"Description",orderable:!0},{name:"Status",data:"Status",orderable:!0,render:function(n,t,i){return'<span class="label label-lg '+i.StatusCss+'">'+i.Status+"<\/span>"}},{data:null,orderable:!1,width:"150px",render:function(n,t,i){return"<a href='/Bookkeeping/JournalEntry?id="+i.Id+"' class='btn btn-primary'><i class='fa fa-eye' style='color: #fff;'><\/i><\/a>"}},],drawCallback:function(){},initComplete:function(){$("#tb_journal_entries").DataTable().ajax.reload()},order:[[0,"asc"]]})};ClearFilterJournalEntries=function(){$(".daterange-journal").val("Limit to a date range");$("#filter-date").html("full history");startDate="";endDate="";$("#filter-account").val("").trigger("change");$("#filter-status").val("").trigger("change");$("#filter-group").val("").trigger("change");filterJournalEntries()};