@using Qbicles.BusinessRules
@using Qbicles.Models.Community
@model Qbicles.Models.Community.CommunityPage
@{
    ViewBag.Title = "Community page | Edit";
    var tags = ViewBag.Tags == null ? new List<Tag>() : (List<Tag>)ViewBag.Tags;

    var status = Enum.GetValues(typeof(CommunityPageActivityVisibilityEnum)).Cast<CommunityPageActivityVisibilityEnum>().ToList();
    var lstIdFoll = new List<string>();
    if (Model.Follower_1 != null && !string.IsNullOrEmpty(Model.Follower_1.Id))
    {
        lstIdFoll.Add(Model.Follower_1.Id);
    }
    if (Model.Follower_2 != null && !string.IsNullOrEmpty(Model.Follower_2.Id))
    {
        lstIdFoll.Add(Model.Follower_2.Id);
    }
    if (Model.Follower_3 != null && !string.IsNullOrEmpty(Model.Follower_3.Id))
    {
        lstIdFoll.Add(Model.Follower_3.Id);
    }
    if (Model.Follower_4 != null && !string.IsNullOrEmpty(Model.Follower_4.Id))
    {
        lstIdFoll.Add(Model.Follower_4.Id);
    }
    if (Model.Follower_5 != null && !string.IsNullOrEmpty(Model.Follower_5.Id))
    {
        lstIdFoll.Add(Model.Follower_5.Id);
    }
    var lstTagId = Model.Tags.Select(q => q.Id).ToList();

    var api = (string)ViewBag.DocRetrievalUrl;
    var imgAcceptedFile = (string)ViewBag.ImageAcceptedExtensions;
}
<input type="hidden" id="qbicles_page" value="@Model.Qbicle.Id" />
<input type="hidden" id="tagsValue" value="@ViewBag.TagJson" />
<input type="hidden" id="form_id" value="@Model.Id" />
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper qbicle-detail">

    <div class="alert_matches active editPage" style="padding: 15px;">
        <a onclick="previewPage()" class="btn btn-info">Preview changes</a>
        <a onclick="updatePage()" class="btn btn-success" style="margin: 0;">Save and finish</a>
    </div>
    <div class="alert_matches active previewPage hidden" style="padding: 15px;">
        <a onclick="returnEdit()" class="btn btn-warning" style="margin: 0 0 5px 0;">Return to editing</a>
    </div>

    <!-- Main content -->
    <section class="content">

        <br /><br />

        <div class="mod_title editPage">
            <h5>Community</h5>
            <h4>Edit page</h4>
        </div>
        <div class="mod_title previewPage hidden">
            <h5>Community</h5>
            <h4 class="title_preview">@Model.Title</h4>
            <p>Created &amp; maintained by <strong>@HelperClass.GetFullNameOfUser(Model.CreatedBy)</strong></p>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <div class="app_filter">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-lg-9">
                            <a href="~/Community/CommunityApps" class="btn btn-primary"><i class="fa fa-th"></i> &nbsp; Dashboard</a>
                            <a href="/Community/CommunityPage?id=@Model.Id" class="btn btn-info"><i class="fa fa-eye"></i> &nbsp; Back to page</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="tab-content app_general community-page community-dash-body">

            <div class="tab-pane fade in active" id="edit">

                <div class="row">
                    <form id="form-community-page" action="" novalidate="novalidate" class="col-xs-12">
                        <div class="col-xs-12 col-md-7 col-lg-6">
                            <div class="row editPage">
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <label for="source_qbicle">Source Qbicle <span>*</span></label>
                                        <input type="text" name="source_qbicle" class="form-control" value="@Model.Qbicle.Name" disabled="">
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <label for="page_title">Page title <span>*</span></label>
                                        <input required="" type="text" name="page_title" id="edit_page_title" onchange="titleChange()" class="form-control" value="@Model.Title">
                                    </div>
                                </div>
                            </div>

                            <br />

                            <img id="show_featureimage" src="@api@Model.FeaturedImage" class="img-responsive" style="min-width: 100%;">

                            <div class="caption previewPage hidden">
                                <small id="preview_caption">@Model.FeaturedImageCaption</small>
                            </div>
                            <div id="preview_id_bodyText" class="previewPage hidden">
                                <p class="previewPage hidden"> @Model.BodyText </p>
                            </div>
                            <div class="activity-overview task editPage" style="padding-top: 25px;">
                                <div class="row">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label for="image">Change featured image</label>
                                            <input type="hidden" id="edit_page_featureimage" value="@Model.FeaturedImage" />
                                            <input type="file" name="image" accept="@imgAcceptedFile" id="file_feature_image" onchange="changeFeatureImage(this)" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label for="caption">Change image caption <span>*</span></label>
                                            <input required="" type="text" id="edit_page_caption" onchange="changeCaption()" name="caption" class="form-control" value="@Model.FeaturedImageCaption" placeholder="&copy; Copyright 2018">
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <br />
                            <div class="form-group editPage">
                                <label for="body_content">Body content <span>*</span></label>
                                <textarea required="" name="body_content" id="edit_page_bodytext" class="form-control" style="height: 180px;">@Model.BodyText</textarea>
                            </div>
                            <div class="row editPage">
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <label for="contact-email">Contact email (public use) <span>*</span></label>
                                        <input required="" type="email" id="contact-email" name="contact-email" class="form-control" value="@Model.PublicContactEmail" required="">
                                    </div>
                                </div>
                            </div>

                            <div class="activity-overview task task-meta previewPage hidden">
                                <div class="flex-grid-fluid">
                                    <div class="col">
                                        <span>Contact email</span>
                                        <p id="preview-contact-email">@Model.PublicContactEmail</p>
                                    </div>
                                    <div class="col">
                                        <span>Last edit</span>
                                        <p style="margin: 0;">@Model.LastUpdated.ToString("dd/MM/yyyy hh:mm:ss")</p>
                                    </div>
                                </div>
                            </div>
                            <br />


                            <div class="activity-overview task editPage" style="padding: 30px 25px 10px 25px;">

                                <h1>Manage <strong>articles</strong></h1>
                                <p>
                                    Have you read something interesting or relevant to your page online? Why not list it as an article on your page - it's a great way of getting returning visitors to your
                                    page and boosting your follower numbers. You can choose your own featured image and title to associate with it for a little more control over the experience.
                                </p>
                                <p>If you want to change the order in which your articles display on your page simply drag and drop in the <strong>order</strong> column to set your new positioning.</p>

                                <br />

                                <table id="editpage_table_articles" class="table app_specific datatable-draggable table-hover " cellspacing="0" style="background: #fff; width: 100%;">
                                    <thead>
                                        <tr>
                                            <th data-priority="1" style="width: 50px;">Order</th>
                                            <th data-priority="3" style="width: 70px;">Image</th>
                                            <th data-priority="1" class="roworder">Title</th>
                                            <th data-priority="2">Source</th>
                                            <th data-priority="2">Date</th>
                                            <th data-priority="1">Status</th>
                                            <th data-priority="1" style="width: 70px;"></th>
                                        </tr>
                                    </thead>
                                    <tbody class="body_table">
                                        @if (Model.Articles != null && Model.Articles.Count > 0)
                                        {
                                            foreach (var item in Model.Articles)
                                            {
                                                <tr id="manage_articles_@item.Id">
                                                    <td>
                                                        <input type="hidden" class="savetrid" value="manage_articles_@item.Id" />
                                                        @(Model.Articles.IndexOf(item) + 1)
                                                        <input type="hidden" class="arrow_displayorder" value="@(Model.Articles.IndexOf(item) + 1)" />
                                                        <input type="hidden" class="arrow_articles_id" value="@item.Id" />
                                                    </td>
                                                    <td>
                                                        <img src="@api@item.Image" class="img-responsive">
                                                        <input type="hidden" class="arrow_articles_image" value="@item.Image" />
                                                        <input type="file" accept="@imgAcceptedFile" class="arrow_articles_file hidden" />
                                                    </td>
                                                    <td>
                                                        <span style="font-size: 13px">@item.Title</span>
                                                        <input type="hidden" class="arrow_articles_title" value="@item.Title" />
                                                    </td>
                                                    <td>
                                                        <input type="hidden" class="arrow_articles_url" value="@item.URL" />
                                                        <input type="hidden" class="arrow_articles_source" value="@item.Source" />
                                                        @if (item.URL.IndexOf("http://") == 0 || item.URL.IndexOf("https://") == 0)
                                                        {
                                                            <a href="@item.URL" target="_blank">@item.Source</a>
                                                        }
                                                        else
                                                        {
                                                            <a href="http://@item.URL" target="_blank">@item.Source</a>
                                                        }

                                                    </td>
                                                    <td>
                                                        @item.CreatedDate.ToString("D")
                                                    </td>
                                                    <td>
                                                        <input type="checkbox" class="isDisabled_articles hidden" value="@item.IsDisplayed.ToString()" />
                                                        @if (item.IsDisplayed)
                                                        {
                                                            <span class="label label-success unpublish label-lg">Active</span>
                                                            <span class="label label-danger public hidden label-lg">Hidden</span>
                                                        }
                                                        else
                                                        {
                                                            <span class="label label-success unpublish hidden label-lg">Active</span>
                                                            <span class="label label-danger public label-lg">Hidden</span>
                                                        }
                                                    </td>
                                                    <td class="text-right">
                                                        <div class="btn-group options">
                                                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                <i class="fa fa-cog"></i> &nbsp; Options
                                                            </button>
                                                            <ul class="dropdown-menu dropdown-menu-right" style="right: 0;">
                                                                <li>
                                                                    <a href="javascript:void(0);" data-toggle="modal" onclick="editArticles('@item.Id')" data-target="#app-community-article-add">Edit</a>
                                                                </li>
                                                                @if (item.IsDisplayed)
                                                                {
                                                                    <li class="unpublish">
                                                                        <a href="javascript:void(0);" data-toggle="modal" onclick="unpublishArticles('@item.Id', false)" data-target="javascript:void(0);">Unpublish</a>
                                                                    </li>
                                                                    <li class="public hidden">
                                                                        <a href="javascript:void(0);" data-toggle="modal" onclick="unpublishArticles('@item.Id', true)" data-target="javascript:void(0);">Publish</a>
                                                                    </li>
                                                                }
                                                                else
                                                                {
                                                                    <li class="unpublish hidden">
                                                                        <a href="javascript:void(0);" data-toggle="modal" onclick="unpublishArticles('@item.Id', false)" data-target="javascript:void(0);">Unpublish</a>
                                                                    </li>
                                                                    <li class="public ">
                                                                        <a href="javascript:void(0);" data-toggle="modal" onclick="unpublishArticles('@item.Id', true)" data-target="javascript:void(0);">Publish</a>
                                                                    </li>
                                                                }
                                                                <li>
                                                                    <a href="javascript:void(0);" data-toggle="modal" onclick="confirmDelete('@item.Id')" data-target="#confirm-delete">Delete</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                            }
                                        }
                                    </tbody>
                                </table>

                                <br />
                                <a data-toggle="modal" data-target="#app-community-article-add" onclick="addNewArticles()" class="btn btn-success">
                                    <i class="fa fa-plus"></i> &nbsp; Add an article
                                </a>

                                <br /><br />
                            </div>
                            <div class="prevewtable previewPage hidden">
                                <h1 style="margin: 0; padding: 0;">Related <strong>Articles</strong></h1>
                                <span class="premium">Premium</span>

                                <br /><br />
                                <div id="listItem_articles" class="articles-carousel owl-theme owl-carousel">
                                    @foreach (var item in Model.Articles)
                                    {
                                        <div class="item">
                                            <div class="community-card">
                                                <a href="@item.URL">
                                                    <div class="upper" style="background-image: url('@api@item.Image');">&nbsp;</div>
                                                </a>
                                                <section class="info">
                                                    <a href="">
                                                        <h2>@item.Title</h2>
                                                        <span>@item.Source</span>
                                                    </a>
                                                </section>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>


                        </div>
                        <div class="col-xs-12 col-md-5 col-lg-6">
                            <h1 class="previewPage hidden">Top <strong>Followers</strong></h1>

                            <ul class="followers previewPage hidden" id="top_follower" data-tooltip-color="slate" data-tooltip-delay="100" data-tooltip-animate-function="foldin">
                                @if (Model.Follower_1 != null && !string.IsNullOrEmpty(Model.Follower_1.Id))
                                {
                                    <li>
                                        <a href="/Community/UserProfilePage" style="background-image: url('@api@Model.Follower_1.ProfilePic');"
                                           data-tooltip="@Model.Follower_1.Forename @Model.Follower_1.Surname">
                                        </a>
                                    </li>
                                }
                                @if (Model.Follower_2 != null && !string.IsNullOrEmpty(Model.Follower_2.Id))
                                {
                                    <li>
                                        <a href="/Community/UserProfilePage" style="background-image: url('@api@Model.Follower_2.ProfilePic');"
                                           data-tooltip="@Model.Follower_2.Forename @Model.Follower_2.Surname">
                                        </a>
                                    </li>
                                }
                                @if (Model.Follower_3 != null && !string.IsNullOrEmpty(Model.Follower_3.Id))
                                {
                                    <li>
                                        <a href="/Community/UserProfilePage" style="background-image: url('@api@Model.Follower_3.ProfilePic');"
                                           data-tooltip="@Model.Follower_3.Forename @Model.Follower_3.Surname">
                                        </a>
                                    </li>
                                }
                                @if (Model.Follower_4 != null && !string.IsNullOrEmpty(Model.Follower_4.Id))
                                {
                                    <li>
                                        <a href="/Community/UserProfilePage" style="background-image: url('@api@Model.Follower_4.ProfilePic');"
                                           data-tooltip="@Model.Follower_4.Forename @Model.Follower_4.Surname">
                                        </a>
                                    </li>
                                }
                                @if (Model.Follower_5 != null && !string.IsNullOrEmpty(Model.Follower_5.Id))
                                {
                                    <li>
                                        <a href="/Community/UserProfilePage" style="background-image: url('@api@Model.Follower_5.ProfilePic');"
                                           data-tooltip="@Model.Follower_5.Forename @Model.Follower_5.Surname">
                                        </a>
                                    </li>
                                }
                            </ul>

                            @*activities*@
                            @{ Html.RenderAction("CommunityActivities", "Community", new { cube = Model.Qbicle, hidenCss = "hidden" }); }

                            <div class="activity-overview task editPage" style="padding: 30px 25px 20px 25px;">

                                <h1><strong>Tag</strong> your page</h1>
                                <p>
                                    Increase your visibility in searches by tagging your page. This will allow users to find this page based on its subject matter
                                    and ensure you receive relevant traffic.
                                </p>

                                <br />

                                <div class="form-group">
                                    <label for="category">Category (or categories) <span>*</span></label>
                                    <select name="category" id="tags_selected" onchange="SelectedTagsChange()" class="form-control select2" style="width: 100%;" multiple>
                                        <option value=""></option>
                                        @foreach (var item in tags)
                                        {
                                            if (lstTagId.Contains(item.Id))
                                            {
                                                <option selected value="@item.Id">@item.Name</option>
                                            }
                                            else
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        }
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="category">Keywords</label>
                                    <article class="activity alert_snippet" style="margin-bottom: 0px;">
                                        <div class="activity-detail" style="padding-left: 10px !important;">
                                            <div id="form_keyword" class="activity-meta">
                                                @foreach (var tag in tags)
                                                {
                                                    if (lstTagId.Contains(tag.Id))
                                                    {
                                                        if (tag.AssociatedKeyWords != null && tag.AssociatedKeyWords.Count > 0)
                                                        {
                                                            foreach (var associatedKeyWord in tag.AssociatedKeyWords)
                                                            {
                                                                <a href="javascript:void(0);" class="topic-label">
                                                                    <span style="margin-bottom: 5px; margin-right: 5px;" class="label label-info">@associatedKeyWord.Name</span>
                                                                </a>
                                                            }
                                                        }
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </article>
                                </div>
                            </div>

                            <br />

                            <div class="activity-overview generic premium-toggles editPage" style="padding: 30px 25px 20px 25px;">

                                <h1><strong>Premium</strong> content</h1>
                                <p>
                                    You have the ability to designate blocks of content as <strong>Premium</strong>. This content is only available to registered Premium Community users.
                                    Further information needed here to explain why the creator would bother doing so...
                                </p>

                                <br />

                                <div class="row">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label for="alerts">Alerts</label>
                                            <select name="alerts" id="edit_status_alerts" class="form-control">
                                                @for (var i = 0; i < status.Count; i++)
                                                {
                                                    if (i == (int)Model.AlertsDisplayStatus)
                                                    {
                                                        <option selected value="@i">@status[i]</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@i">@status[i]</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label for="alerts">Articles</label>
                                            <select name="alerts" id="edit_status_articles" class="form-control">
                                                @for (var i = 0; i < status.Count; i++)
                                                {
                                                    if (i == (int)Model.ArticlesDisplayStatus)
                                                    {
                                                        <option selected value="@i">@status[i]</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@i">@status[i]</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label for="alerts">Posts/comments</label>
                                            <select name="alerts" id="edit_status_post" class="form-control">
                                                @for (var i = 0; i < status.Count; i++)
                                                {
                                                    if (i == (int)Model.PostsDisplayStatus)
                                                    {
                                                        <option selected value="@i">@status[i]</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@i">@status[i]</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label for="alerts">Events</label>
                                            <select name="alerts" id="edit_status_event" class="form-control">
                                                @for (var i = 0; i < status.Count; i++)
                                                {
                                                    if (i == (int)Model.EventsDisplayStatus)
                                                    {
                                                        <option selected value="@i">@status[i]</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@i">@status[i]</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label for="alerts">Files</label>
                                            <select name="alerts" id="edit_status_file" class="form-control">
                                                @for (var i = 0; i < status.Count; i++)
                                                {
                                                    if (i == (int)Model.FilesDisplayStatus)
                                                    {
                                                        <option selected value="@i">@status[i]</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@i">@status[i]</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>

                            </div>


                            <br />

                            <div class="activity-overview task editPage" style="padding: 30px 25px 15px 25px;">
                                <h1>Top <strong>Followers</strong></h1>
                                <p>
                                    Choose which followers (if any) you would like to promote on your profile. You can reorder your choices by dragging and dropping them once
                                    selected - custom ordering will be preserved for display to visitors.
                                </p>

                                <div class="form-group">
                                    <select name="follower_1" id="edit_page_followers" class="form-control select2 sortable" multiple style="padding: 40px; width: 100%;">
                                        @foreach (var item in Model.Followers)
                                        {
                                            if (lstIdFoll.Contains(item.Id))
                                            {
                                                <option selected value="@item.Id">@item.Forename @item.Surname</option>
                                            }
                                            else
                                            {
                                                <option value="@item.Id">@item.Forename @item.Surname</option>
                                            }
                                        }
                                    </select>
                                </div>

                            </div>

                        </div>
                    </form>

                </div>

            </div>
            <!-- tab pane (edit) -->


        </div>

    </section>
    <!-- ./content -->

</div>
<!-- /.content-wrapper -->


<div class="modal fade" id="domain-change" tabindex="-1" role="dialog" aria-labelledby="domain-change">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title">Change active domain</h5>
            </div>
            <div class="modal-body" style="padding: 0;">

                <ul class="domain-change-list unstyled">
                    <li class="active">
                        <a href="javascript:void(0);" data-dismiss="modal">RoadChef</a>
                    </li>
                    <li>
                        <a href="javascript:void(0);" data-dismiss="modal">Cleanbooks</a>
                    </li>
                </ul>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal Domain change-->


<div class="modal fade" id="app-community-article-add" role="dialog" aria-labelledby="app-community-article-add">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title title_articles">Add an article</h5>
            </div>
            <div class="modal-body">
                <form id="form-add-artile" class="validate_form">
                    <input type="hidden" id="form_articles_id" />
                    <div class="well">

                        <div class="row">
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <label for="article_title">Title<span style="color: #ff0000">*</span></label>
                                    <input type="text" required class="form-control" id="form_articles_name" name="article_title">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <label for="article_source">Source<span style="color: #ff0000">*</span></label>
                                    <input type="text" required class="form-control" id="form_articles_source" name="article_source">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <label for="article_image">Featured image</label>
                                    <input type="file" accept="@imgAcceptedFile" onchange="changeImage(this)" class="form-control" id="form_articles_image" name="article_image">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <label for="article_link">Hyperlink <span style="color: #ff0000">*</span></label>
                                    <input type="text" required class="form-control" id="form_articles_url" name="article_link">
                                </div>
                            </div>
                        </div>

                    </div>


                    <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    <button class="btn btn-success trigger_load" onclick="addArticles()" type="button">Add now</button>
                </form>
            </div>
        </div> <!-- /.modal-content -->
    </div> <!-- /.modal-dialog -->
</div> <!-- /.modal app-community-article-add -->
<div class="modal fade" id="confirm-delete" role="dialog" aria-labelledby="confirm-delete">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title title_articles">Delete an article</h5>
            </div>
            <div class="modal-body">
                <input type="hidden" id="form_articles_id" />
                <div class="well">

                    Do you want to delete the article?

                </div>


                <button class="btn btn-danger" onclick="cancelConfirm()" data-dismiss="modal">Cancel</button>
                <button class="btn btn-success" onclick="deleteArticles()" type="button">Ok</button>
            </div>
        </div> <!-- /.modal-content -->
    </div> <!-- /.modal-dialog -->
</div> <!-- /.modal app-community-article-add -->
@{
    if (System.Diagnostics.Debugger.IsAttached)
    {
        <script src="~/Scripts/dev/CommunityAddEditPage.js"></script>

    }
    else
    {
        <script src="~/Scripts/dev/CommunityAddEditPage.min.js"></script>

    }
}
<script>
    getTagsValue();
    setTimeout(function () {
        $("#edit_page_followers").select2({
            maximumSelectionLength: 5
        });
    },1000);

    $('select').not('.multi-select').select2();
</script>