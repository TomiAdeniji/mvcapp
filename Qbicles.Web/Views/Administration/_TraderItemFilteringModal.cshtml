@using Qbicles.Models.Trader;
@{
    var catalogId = (int)ViewBag.CatalogId;
    var lstTraderGroups = ViewBag.ItemGroups == null ? new List<TraderGroup>() : (List<TraderGroup>)ViewBag.ItemGroups;
    var initialKeySearch = ViewBag.InitialKeySearch == null ? "" : (string)ViewBag.InitialKeySearch;
}

<input type="hidden" value="@((string)ViewBag.DocRetrievalUrl)" id="api-base-url" />
<div class="modal-dialog modal-xl cx" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h5 class="modal-title">Trader Product Finder</h5>
        </div>
        <div class="modal-body">

            <div class="row">
                <div class="col-xs-12">
                    <ul class="app_subnav admintabs" style="padding-top: 0;">
                        <li class="active"><a href="#inventory-tab" data-toggle="tab">Inventory Items/Products</a></li>
                        <li><a href="#non-inventory-tab" data-toggle="tab">Non-Inventory Items/Products</a></li>
                    </ul>
                </div>
            </div>

            <br />


            <div class="tab-content">

                <!-- Inventory -->
                <div class="tab-pane fade in active" id="inventory-tab">

                    <div class="well custom">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group" style="margin: 0;">
                                    <label for="search">Search for...</label>
                                    <input type="text" value="@initialKeySearch" id="inventory-key-search" name="search" class="form-control">
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group" style="margin: 0;">
                                    <label for="catfilter">Filter by Product Group</label>
                                    <select name="catfilter" id="inventory-product-group" class="form-control select2" style="width: 100%;">
                                        <option value="0">Show all</option>
                                        @foreach (var productGroupItem in lstTraderGroups)
                                        {
                                            <option value="@productGroupItem.Id">@productGroupItem.Name</option>
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <br />

                    <table class="datatable table-striped table-hover" id="inventory-trader-item-table" style="width: 100%;" data-order='[[1, "asc"]]'>
                        <thead>
                            <tr>
                                <th data-priority="3" data-orderable="false" style="width: 80px;"></th>
                                <th data-priority="2">Name</th>
                                <th data-priority="1">SKU</th>
                                <th data-priority="3">Product Group</th>
                                <th data-priority="1" data-orderable="false">Selection</th>
                            </tr>
                        </thead>
                        <tbody>
                            @*<tr>
                                <td>
                                    <div class="table-avatar mini" style="background-image: url('dist/img/icon_burger.png');"></div>
                                </td>
                                <td>Example item 1</td>
                                <td>EXMP00123</td>
                                <td>Group 1</td>
                                <td><button class="btn btn-success" data-dismiss="modal" onclick="$('#itemextras').show();"><i class="fa fa-check"></i></button></td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="table-avatar mini" style="background-image: url('dist/img/icon_lettuce.png');"></div>
                                </td>
                                <td>Example item 2</td>
                                <td>EXMP00456</td>
                                <td>Group 2</td>
                                <td><button class="btn btn-success" data-dismiss="modal" onclick="$('#itemextras').show();"><i class="fa fa-check"></i></button></td>
                            </tr>*@
                        </tbody>
                    </table>

                </div>
                <!-- END Inventory -->
                <!-- Non-Inventory -->
                <div class="tab-pane fade" id="non-inventory-tab">

                    <div class="well custom">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group" style="margin: 0;">
                                    <label for="search">Search for...</label>
                                    <input type="text" id="non-inventory-key-search" value="@initialKeySearch" name="search" class="form-control">
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group" style="margin: 0;">
                                    <label for="catfilter">Filter by Product Group</label>
                                    <select name="catfilter" id="non-inventory-product-group" class="form-control select2" style="width: 100%;">
                                        <option value="0">Show all</option>
                                        @foreach (var productGroupItem in lstTraderGroups)
                                        {
                                            <option value="@productGroupItem.Id">@productGroupItem.Name</option>
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <br />

                    <table class="datatable table-striped table-hover" id="non-inventory-trader-item-table" style="width: 100%;" data-order='[[1, "asc"]]'>
                        <thead>
                            <tr>
                                <th data-priority="3" data-orderable="false" style="width: 80px;"></th>
                                <th data-priority="2">Name</th>
                                <th data-priority="1">SKU</th>
                                <th data-priority="3">Product Group</th>
                                <th data-priority="1" data-orderable="false">Selection</th>
                            </tr>
                        </thead>
                        <tbody>
                            @*<tr>
                                <td>
                                    <div class="table-avatar mini" style="background-image: url('dist/img/icon_burger.png');"></div>
                                </td>
                                <td>Example item 1</td>
                                <td>EXMP00123</td>
                                <td>Group 1</td>
                                <td><button class="btn btn-success" data-dismiss="modal" onclick="$('#itemextras').show();"><i class="fa fa-check"></i></button></td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="table-avatar mini" style="background-image: url('dist/img/icon_lettuce.png');"></div>
                                </td>
                                <td>Example item 2</td>
                                <td>EXMP00456</td>
                                <td>Group 2</td>
                                <td><button class="btn btn-success" data-dismiss="modal" onclick="$('#itemextras').show();"><i class="fa fa-check"></i></button></td>
                            </tr>*@
                        </tbody>
                    </table>

                </div>
                <!-- END Non-Inventory -->



            </div>

        </div>
    </div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
